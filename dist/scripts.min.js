let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):console.log("Error!")}function o(){return t}function n(t){let e=document.querySelector(".row"),o=document.createElement("div");e.appendChild(o),o.classList.add("list-group-item","col-sm-6","col-md-4","col-lg-3"),o.id=t.name;let n=document.createElement("button");n.innerText=t.name+"\n",n.setAttribute("data-toggle","modal"),n.setAttribute("data-target","#exampleModal"),o.appendChild(n),n.classList.add("btn","btn-info","btn-lg","btn-block","list-btn"),n.addEventListener("click",function(){l(t)})}async function i(){try{let t=await fetch("https://pokeapi.co/api/v2/pokemon/?limit=150"),o=await t.json();o.results.forEach(function(t){let o={name:t.name,detailsUrl:t.url};e(o)})}catch(n){console.error(n)}}async function a(t){let e=t.detailsUrl;try{let o=await fetch(e),n=await o.json();t.imageUrlFront=n.sprites.other.dream_world.front_default,t.height=n.height,t.types=n.types.map(function(t){return t.type.name}),t.abilities=n.abilities.map(function(t){return t.ability.name})}catch(i){console.error(i)}}function l(t){pokemonRepository.loadDetails(t).then(function(){r(t)})}function r(t){let e=$(".modal-body"),o=$(".modal-title");o.empty(),e.empty();let n=$("<h1>"+t.name+"</h1>"),i=$('<img class="modal-img" style="width:50%">');i.attr("src",t.imageUrlFront);let a=$("<p>Height : "+t.height+"'</p>"),l=$("<p>Types : "+t.types.join(", ")+"</p>"),r=$("<p>Abilities : "+t.abilities.join(", ")+"</p>");o.append(n),e.append(i),e.append(a),e.append(l),e.append(r)}return{getAll:o,add:e,addListItem:n,loadList:i,loadDetails:a,showDetails:l,showModal:r,filterPokemons:function e(o){let i=t.filter(t=>t.name.toLowerCase().startsWith(o.toLowerCase()));document.querySelector(".row").innerHTML="",i.forEach(t=>n(t))}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)}),document.querySelector("#search-form").addEventListener("input",function(t){t.preventDefault();let e=document.querySelector("#search-input").value;pokemonRepository.filterPokemons(e)})});